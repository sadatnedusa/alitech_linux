# In Linux, "traps" refer to a mechanism that allows a script or a program to catch and handle signals or specific events. 
## This is commonly used in shell scripting to provide better control over how a script behaves when it receives certain signals.

- Hereâ€™s a detailed overview:

### What Are Traps?

- **Signal Handling**: A trap is used to specify commands that should be executed when the script receives a specific signal (like `SIGINT`, which is generated by pressing `Ctrl+C`).
- **Exit Cleanup**: Traps are often used to perform cleanup actions (like deleting temporary files) before a script exits.

### Common Signals

Here are some common signals that can be caught by traps:

- `SIGINT` (2): Interrupt from the keyboard (usually `Ctrl+C`).
- `SIGTERM` (15): Termination signal.
- `SIGHUP` (1): Hangup detected on controlling terminal.
- `SIGQUIT` (3): Quit from keyboard (usually `Ctrl+\`).

### Syntax

The basic syntax for setting a trap in a Bash script is:

```bash
trap 'commands' signal
```

### Examples

#### 1. Basic Example

In this example, we trap `SIGINT` and `SIGTERM` signals to print a message before exiting the script.

```bash
#!/bin/bash

trap 'echo "Script terminated!"; exit' SIGINT SIGTERM

echo "Running... Press Ctrl+C to terminate."
while true; do
    sleep 1
done
```

- **How It Works**: When you press `Ctrl+C`, the script will catch the `SIGINT` signal, print "Script terminated!", and then exit.

#### 2. Cleanup Example

In this example, we use a trap to clean up temporary files when the script exits.

```bash
#!/bin/bash

tempfile=$(mktemp)
trap 'rm -f "$tempfile"; echo "Temporary file removed."' EXIT

echo "Creating a temporary file: $tempfile"
# Simulate some work
sleep 5

echo "Script is done!"
```

- **How It Works**: Regardless of how the script exits (normally or due to a signal), the `EXIT` trap will remove the temporary file and print a message.

#### 3. Multiple Signals

You can trap multiple signals by listing them.

```bash
#!/bin/bash

trap 'echo "Caught SIGINT"; exit' SIGINT
trap 'echo "Caught SIGTERM"; exit' SIGTERM

echo "Running... Press Ctrl+C to terminate or send SIGTERM."
while true; do
    sleep 1
done
```

- **How It Works**: The script will catch both `SIGINT` and `SIGTERM` and print the respective message before exiting.

### Conclusion

Traps in Linux are powerful tools for managing script behavior, especially for cleanup and signal handling. 
They help create robust scripts that can gracefully handle interruptions or terminations, making them essential for production environments and long-running processes.
If you have specific scenarios where you'd like to implement traps or need further clarification, feel free to ask!
